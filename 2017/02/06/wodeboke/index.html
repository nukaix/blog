<!DOCTYPE html>
<html lang="zh_CN">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="H5项目常见问题及注意事项Meta基础知识：
H5页面窗口自动调整到设备宽度，并禁止用户缩放页面
12345678910111213141516171819202122//一、HTML页面结构&amp;lt;meta name=“viewport” content=“width=device-width,i">
    

    <!--Author-->
    
        <meta name="author" content="xia kun">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="H5项目常见问题汇总及解决方案"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="xia kun"/>

    <!--Page Cover-->
    
        <meta property="og:image" content="undefined"/>
    

    <!-- Title -->
    
    <title>H5项目常见问题汇总及解决方案 - xia kun</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


</head>
<link rel="shortcut icon" href="http://ocx8vgm15.bkt.clouddn.com/image/favicon.ico"/>
<body>

<!-- Menu -->
<!-- Navigation -->
<header>
    <div class="logo">
        <a href="/">xia kun</a>
    </div><!-- end logo -->

    <div id="menu_icon"></div>
    <nav>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives">Archives</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
        </ul>
    </nav><!-- end navigation menu -->

    <div class="footer clearfix">
        <ul class="social clearfix">
            
                <li><a href="https://twitter.com/nukaix" class="twitter" target="_blank" data-title="Twitter"></a></li>
            
            
                <li><a href="http://weibo.com/xiakun1993/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" class="fb" target="_blank" data-title="微博"></a></li>
            
            
                <li><a href="https://www.instagram.com/shiyidianshui/" class="behance" target="_blank" data-title="Instagram"></a></li>
            
            
                <li><a href="https://www.douban.com/people/71821532/" class="google" target="_blank" data-title="豆瓣"></a></li>
            
            
            
        </ul><!-- end social -->

        <div class="rights">
            <p>Copyright © 2017 xiakun</p>
        </div><!-- end rights -->
    </div ><!-- end footer -->
</header><!-- end header -->

<!-- Main Content -->
<section class="main clearfix">

    <section class="top" style="background: url('http://ocx8vgm15.bkt.clouddn.com/image/bwdt-17-02-06.jpg');">
        <div class="wrapper content_header clearfix">
            

<div class="work_nav">

    <ul class="btn clearfix">
        
        <li><a class="previous disabled"></a></li>
        
        <li><a href="/" class="grid" data-title="Portfolio"></a></li>
        
        <li><a href="/2017/02/06/H5项目常见问题汇总及解决方案/" class="next" data-title="H5项目常见问题汇总及解决方案"></a></li>
        
    </ul>

</div><!-- end work_nav -->
            <h1 class="title">H5项目常见问题汇总及解决方案</h1>
        </div>
    </section><!-- end top -->

    <section class="wrapper">
        <div class="content">

            <!-- Gallery -->
            

            <!-- Content -->
            <h1 id="H5项目常见问题及注意事项"><a href="#H5项目常见问题及注意事项" class="headerlink" title="H5项目常见问题及注意事项"></a>H5项目常见问题及注意事项</h1><h1 id="Meta基础知识："><a href="#Meta基础知识：" class="headerlink" title="Meta基础知识："></a>Meta基础知识：</h1><ul>
<li><p>H5页面窗口自动调整到设备宽度，并禁止用户缩放页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">//一、HTML页面结构</div><div class="line">&lt;meta name=“viewport” content=“width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no” /&gt;</div><div class="line">// width    设置viewport宽度，为一个正整数，或字符串‘device-width’</div><div class="line">// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置</div><div class="line">// initial-scale    默认缩放比例，为一个数字，可以带小数</div><div class="line">// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数</div><div class="line">// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数</div><div class="line">// user-scalable    是否允许手动缩放</div><div class="line">//二、JS动态判断</div><div class="line">var phoneWidth =  parseInt(window.screen.width);</div><div class="line">var phoneScale = phoneWidth/640;</div><div class="line">var ua = navigator.userAgent;</div><div class="line">if (/Android (\d+\.\d+)/.test(ua))&#123;</div><div class="line">    var version = parseFloat(RegExp.$1);</div><div class="line">    if(version&gt;2.3)&#123;</div><div class="line">        document.write(‘&lt;meta name=“viewport” content=“width=640, minimum-scale = ‘+phoneScale+’, maximum-scale = ‘+phoneScale+’, target-densitydpi=device-dpi”&gt;’);</div><div class="line">    &#125;else&#123;</div><div class="line">        document.write(‘&lt;meta name=“viewport” content=“width=640, target-densitydpi=device-dpi”&gt;’);</div><div class="line">    &#125;</div><div class="line">&#125; else &#123;</div><div class="line">    document.write(‘&lt;meta name=“viewport” content=“width=640, user-scalable=no, target-densitydpi=device-dpi”&gt;’);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>空白页基本meta标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;!— 设置缩放 —&gt;</div><div class="line">&lt;meta name=“viewport” content=“width=device-width, initial-scale=1, user-scalable=no, minimal-ui” /&gt;</div><div class="line">&lt;!— 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） —&gt;</div><div class="line">&lt;meta name=“apple-mobile-web-app-capable” content=“yes” /&gt;</div><div class="line">&lt;!— 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） —&gt;</div><div class="line">&lt;meta name=“apple-mobile-web-app-status-bar-style” content=“black” /&gt;</div><div class="line">&lt;!— IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 —&gt;</div><div class="line">&lt;meta name=“format-detection”content=“telephone=no, email=no” /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>其他meta标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;!— 启用360浏览器的极速模式(webkit) —&gt;</div><div class="line">&lt;meta name=“renderer” content=“webkit”&gt;</div><div class="line">&lt;!— 避免IE使用兼容模式 —&gt;</div><div class="line">&lt;meta http-equiv=“X-UA-Compatible” content=“IE=edge”&gt;</div><div class="line">&lt;!— 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 —&gt;</div><div class="line">&lt;meta name=“HandheldFriendly” content=“true”&gt;</div><div class="line">&lt;!— 微软的老式浏览器 —&gt;</div><div class="line">&lt;meta name=“MobileOptimized” content=“320”&gt;</div><div class="line">&lt;!— uc强制竖屏 —&gt;</div><div class="line">&lt;meta name=“screen-orientation” content=“portrait”&gt;</div><div class="line">&lt;!— QQ强制竖屏 —&gt;</div><div class="line">&lt;meta name=“x5-orientation” content=“portrait”&gt;</div><div class="line">&lt;!— UC强制全屏 —&gt;</div><div class="line">&lt;meta name=“full-screen” content=“yes”&gt;</div><div class="line">&lt;!— QQ强制全屏 —&gt;</div><div class="line">&lt;meta name=“x5-fullscreen” content=“true”&gt;</div><div class="line">&lt;!— UC应用模式 —&gt;</div><div class="line">&lt;meta name=“browsermode” content=“application”&gt;</div><div class="line">&lt;!— QQ应用模式 —&gt;</div><div class="line">&lt;meta name=“x5-page-mode” content=“app”&gt;</div><div class="line">&lt;!— windows phone 点击无高光 —&gt;</div><div class="line">&lt;meta name=“msapplication-tap-highlight” content=“no”&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="常见问题："><a href="#常见问题：" class="headerlink" title="常见问题："></a>常见问题：</h1><ul>
<li><p>移动端如何定义字体font-family</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">@ ———————————————————中文字体的英文名称</div><div class="line">@ 宋体      SimSun</div><div class="line">@ 黑体      SimHei</div><div class="line">@ 微信雅黑   Microsoft Yahei</div><div class="line">@ 微软正黑体 Microsoft JhengHei</div><div class="line">@ 新宋体    NSimSun</div><div class="line">@ 新细明体  MingLiU</div><div class="line">@ 细明体    MingLiU</div><div class="line">@ 标楷体    DFKai-SB</div><div class="line">@ 仿宋     FangSong</div><div class="line">@ 楷体     KaiTi</div><div class="line">@ 仿宋_GB2312  FangSong_GB2312</div><div class="line">@ 楷体_GB2312  KaiTi_GB2312  </div><div class="line">@@ 说明：中文字体多数使用宋体、雅黑，英文用Helvetica</div><div class="line">body &#123; font-family: Microsoft Yahei,SimSun,Helvetica; &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>打电话发短信写邮件怎么实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">// 一、打电话</div><div class="line">&lt;a href=“tel:0755-10086”&gt;打电话给:0755-10086&lt;/a&gt; </div><div class="line">//  二、发短信，winphone系统无效</div><div class="line">&lt;a href=“sms:10086”&gt;发短信给: 10086&lt;/a&gt;</div><div class="line">// 三、写邮件</div><div class="line">//注：在添加这些功能时，第一个功能以”?”开头，后面的以”&amp;”开头</div><div class="line">//1.普通邮件</div><div class="line">&lt;a href=“mailto:863139978@qq.com”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）</div><div class="line">&lt;a href=“mailto:863139978@qq.com?cc=zhangqian0406@yeah.net”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//3.跟着抄送地址后，写上&amp;bcc=,可添加密件抄送地址（Android存在兼容问题）</div><div class="line">&lt;a href=“mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=384900096@qq.com”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址</div><div class="line">&lt;a href=“mailto:863139978@qq.com;384900096@qq.com”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//5.包含主题，用?subject=</div><div class="line">&lt;a href=“mailto:863139978@qq.com?subject=邮件主题”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行 </div><div class="line">&lt;a href=“mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//7.内容包含链接，含http(s)://等的文本自动转化为链接</div><div class="line">&lt;a href=“mailto:863139978@qq.com?body=http://www.baidu.com”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//8.内容包含图片（PC不支持）</div><div class="line">&lt;a href=“mailto:863139978@qq.com?body=&lt;img src=‘images/1.jpg’ /&gt;”&gt;点击我发邮件&lt;/a&gt;</div><div class="line">//9.完整示例</div><div class="line">&lt;a href=“mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=993233461@qq.com&amp;subject=[邮件主题]&amp;body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A&lt;img src=‘images/1.jpg’ /&gt;”&gt;点击我发邮件&lt;/a&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>移动端touch事件（区分webkit和winphone）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">/* 当用户手指放在移动设备在屏幕上滑动会触发的touch事件 */</div><div class="line">// 以下支持webkit</div><div class="line">touchstart——当手指触碰屏幕时候发生。不管当前有多少只手指</div><div class="line">touchmove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生：阻止页面滚动</div><div class="line">touchend——当手指离开屏幕时触发</div><div class="line">touchcancel——系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用</div><div class="line"> </div><div class="line">//TouchEvent说明：</div><div class="line">touches：屏幕上所有手指的信息</div><div class="line">targetTouches：手指在目标区域的手指信息</div><div class="line">changedTouches：最近一次触发该事件的手指信息</div><div class="line">touchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息</div><div class="line"> </div><div class="line">//参数信息(changedTouches[0])</div><div class="line">clientX、clientY在显示区的坐标</div><div class="line">target：当前元素</div><div class="line"> </div><div class="line">//事件响应顺序</div><div class="line">ontouchstart  &gt; ontouchmove  &gt; ontouchend &gt; onclick</div><div class="line"> </div><div class="line">// 以下支持winphone 8</div><div class="line">MSPointerDown——当手指触碰屏幕时候发生。不管当前有多少只手指</div><div class="line">MSPointerMove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html&#123;-ms-touch-action: none;&#125;可以阻止默认情况的发生：阻止页面滚动</div><div class="line">MSPointerUp——当手指离开屏幕时触发</div></pre></td></tr></table></figure>
</li>
<li><p>点击元素产生背景或边框怎么去掉</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/ios用户点击一个链接，会出现一个半透明灰色遮罩, 如果想要禁用，可设置-webkit-tap-highlight-color的alpha值为0去除灰色半透明遮罩；</div><div class="line">//android用户点击一个链接，会出现一个边框或者半透明灰色遮罩, 不同生产商定义出来额效果不一样，可设置-webkit-tap-highlight-color的alpha值为0去除部分机器自带的效果；</div><div class="line">//winphone系统,点击标签产生的灰色半透明背景，能通过设置&lt;meta name=“msapplication-tap-highlight” content=“no”&gt;去掉；</div><div class="line">//特殊说明：有些机型去除不了，如小米2。对于按钮类还有个办法，不使用a或者input标签，直接用div标签</div><div class="line">a,button,input,textarea &#123; </div><div class="line">    -webkit-tap-highlight-color: rgba(0,0,0,0); </div><div class="line">    -webkit-user-modify:read-write-plaintext-only; //-webkit-user-modify有个副作用，就是输入法不再能够输入多个字符</div><div class="line">&#125;   </div><div class="line">// 也可以 </div><div class="line"> &#123; -webkit-tap-highlight-color: rgba(0,0,0,0); &#125;</div><div class="line">//winphone下</div><div class="line">&lt;meta name=“msapplication-tap-highlight” content=“no”&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>美化表单元素</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">//一、使用appearance改变webkit浏览器的默认外观</div><div class="line">input,select &#123; -webkit-appearance:none; appearance: none; &#125;</div><div class="line"> </div><div class="line">//二、winphone下，使用伪元素改变表单元素默认外观</div><div class="line">//1.禁用select默认箭头，::-ms-expand修改表单控件下拉箭头，设置隐藏并使用背景图片来修饰</div><div class="line">select::-ms-expand &#123; display:none; &#125;</div><div class="line"> </div><div class="line">//2.禁用radio和checkbox默认样式，::-ms-check修改表单复选框或单选框默认图标，设置隐藏并使用背景图片来修饰</div><div class="line">input[type=radio]::-ms-check,</div><div class="line">input[type=checkbox]::-ms-check &#123; display:none; &#125;</div><div class="line"> </div><div class="line">//3.禁用pc端表单输入框默认清除按钮，::-ms-clear修改清除按钮，设置隐藏并使用背景图片来修饰</div><div class="line">input[type=text]::-ms-clear,</div><div class="line">input[type=tel]::-ms-clear,</div><div class="line">input[type=number]::-ms-clear &#123; display:none; &#125;</div></pre></td></tr></table></figure>
<ul>
<li>移动端字体单位font-size选择px还是rem</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 如需适配多种移动设备，建议使用rem。以下为参考值：</div><div class="line">html &#123; font-size: 62.5%; &#125;   //10*16 = 62.5%</div><div class="line">//设置12px字体   这里注意在rem前要加上对应的px值，解决不支持rem的浏览器的兼容问题，做到优雅降级</div><div class="line">body &#123; font-size:12px; font-size:1.2rem; &#125;</div></pre></td></tr></table></figure>
<ul>
<li>超实用的CSS样式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">//去掉webkit的滚动条——display: none;</div><div class="line">//其他参数</div><div class="line">::-webkit-scrollba //滚动条整体部分</div><div class="line">::-webkit-scrollbar-thumb   //滚动条内的小方块</div><div class="line">::-webkit-scrollbar-track   //滚动条轨道</div><div class="line">::-webkit-scrollbar-button  //滚动条轨道两端按钮</div><div class="line">::-webkit-scrollbar-track-piece  //滚动条中间部分，内置轨道</div><div class="line">::-webkit-scrollbar-corner       //边角，两个滚动条交汇处</div><div class="line">::-webkit-resizer            //两个滚动条的交汇处上用于通过拖动调整元素大小的小控件</div><div class="line"> </div><div class="line">// 禁止长按链接与图片弹出菜单</div><div class="line">a,img &#123; -webkit-touch-callout: none &#125;    </div><div class="line">// 禁止ios和android用户选中文字</div><div class="line">html,body &#123;-webkit-user-select:none; user-select: none; &#125;</div><div class="line">// 改变输入框placeholder的颜色值</div><div class="line">::-webkit-input-placeholder &#123; /* WebKit browsers */</div><div class="line">color: #999; &#125;</div><div class="line">:-moz-placeholder &#123; /* Mozilla Firefox 4 to 18 */</div><div class="line">color: #999; &#125;</div><div class="line">::-moz-placeholder &#123; /* Mozilla Firefox 19+ */</div><div class="line">color: #999; &#125;</div><div class="line">:-ms-input-placeholder &#123; /* Internet Explorer 10+ */</div><div class="line">color: #999; &#125;</div><div class="line">input:focus::-webkit-input-placeholder&#123; color:#999; &#125;</div><div class="line">// android上去掉语音输入按钮</div><div class="line">input::-webkit-input-speech-button &#123;display: none&#125;</div><div class="line">// 阻止windows Phone的默认触摸事件</div><div class="line">/*说明：winphone下默认触摸事件事件使用e.preventDefault是无效的，可通过样式来禁用，如：*/</div><div class="line">html &#123; -ms-touch-action:none; &#125; //禁止winphone默认触摸事件</div></pre></td></tr></table></figure>
<ul>
<li><p>取消input在ios下，输入的时候英文首字母的默认大写</p></li><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input autocapitalize=“off” autocorrect=“off” /&gt;</div></pre></td></tr></table></figure>

<li><p>audio元素和video元素在ios和andriod中无法自动播放</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">//音频，写法一</div><div class="line">&lt;audio src=“music/bg.mp3” autoplay loop controls&gt;你的浏览器还不支持哦&lt;/audio&gt;</div><div class="line"> </div><div class="line">//音频，写法二</div><div class="line">&lt;audio controls=“controls”&gt; </div><div class="line">    &lt;source src=“music/bg.ogg” type=“audio/ogg”&gt;&lt;/source&gt;</div><div class="line">    &lt;source src=“music/bg.mp3” type=“audio/mpeg”&gt;&lt;/source&gt;</div><div class="line">    优先播放音乐bg.ogg，不支持在播放bg.mp3</div><div class="line">&lt;/audio&gt;</div><div class="line"> </div><div class="line">//JS绑定自动播放（操作window时，播放音乐）</div><div class="line">$(window).one(‘touchstart’, function()&#123;</div><div class="line">    music.play();</div><div class="line">&#125;)</div><div class="line"> </div><div class="line">//微信下兼容处理</div><div class="line">document.addEventListener(“WeixinJSBridgeReady”, function () &#123;</div><div class="line">    music.play();</div><div class="line">&#125;, false);</div><div class="line"> </div><div class="line">//小结</div><div class="line">//1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常</div><div class="line">//2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间</div></pre></td></tr></table></figure>
</li>
<li><p>重力感应事件</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">// 运用HTML5的deviceMotion，调用重力感应事件</div><div class="line">if(window.DeviceMotionEvent)&#123;</div><div class="line">    document.addEventListener(‘devicemotion’, deviceMotionHandler, false)</div><div class="line">&#125;   </div><div class="line"> </div><div class="line">var speed = 30;</div><div class="line">var x = y = z = lastX = lastY = lastZ = 0;</div><div class="line">function deviceMotionHandler(eventData)&#123;</div><div class="line">    var acceleration = event.accelerationIncludingGravity;</div><div class="line">    x = acceleration.x;</div><div class="line">    y = acceleration.y; </div><div class="line">    z = acceleration.z;</div><div class="line">    if(Math.abs(x-lastX)&gt;speed || Math.abs(y-lastY)&gt;speed || Math.abs(z-lastZ)&gt;speed )&#123;</div><div class="line">        //这里是摇动后要执行的方法 </div><div class="line">        yaoAfter();</div><div class="line">    &#125;</div><div class="line">    lastX = x;</div><div class="line">    lastY = y;</div><div class="line">    lastZ = z;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function yaoAfter()&#123;</div><div class="line">    //do something</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><p>微信浏览器用户调整字体大小后页面矬了，怎么阻止用户调整</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">//以下代码可使Android机页面不再受用户字体缩放强制改变大小，但是会有1S左右延时，期间可以考虑loading来处理</div><div class="line">if (typeof(WeixinJSBridge) == “undefined”) &#123;</div><div class="line">    document.addEventListener(“WeixinJSBridgeReady”, function (e) &#123;</div><div class="line">        setTimeout(function()&#123;</div><div class="line">            WeixinJSBridge.invoke(‘setFontSizeCallback’, &#123; ‘fontSize’:0&#125;, function(res)&#123;</div><div class="line">                alert(JSON.stringify(res));</div><div class="line">            &#125;)</div><div class="line">        &#125;, 0)</div><div class="line">    &#125;);</div><div class="line">&#125;else&#123;  </div><div class="line">    setTimeout(function()&#123;</div><div class="line">        WeixinJSBridge.invoke(‘setFontSizeCallback’, &#123; ‘fontSize’:0&#125;, function(res)&#123;</div><div class="line">            alert(JSON.stringify(res));</div><div class="line">        &#125;)</div><div class="line">    &#125;, 0)   </div><div class="line">&#125;</div><div class="line">//IOS下可使用 -webkit-text-size-adjust禁止用户调整字体大小</div><div class="line">body &#123; -webkit-text-size-adjust:100%!important; &#125;</div><div class="line">//最好的解决方案：最好使用rem或百分比布局</div></pre></td></tr></table></figure>
</li>
<li><p>播放视频不全屏</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;!—</div><div class="line">1.ios7+支持自动播放</div><div class="line">2.支持Airplay的设备（如：音箱、Apple TV)播放</div><div class="line">x-webkit-airplay=“true” </div><div class="line">3.播放视频不全屏</div><div class="line">webkit-playsinline=“true” </div><div class="line">—&gt;</div><div class="line">&lt;video x-webkit-airplay=“true” webkit-playsinline=“true” preload=“auto” autoplay src=“http://“&gt;&lt;/video&gt;</div><div class="line">&lt;ul&gt;</div><div class="line">    &lt;li&gt;JS判断设备&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">function deviceType()&#123;</div><div class="line">    var ua = navigator.userAgent;</div><div class="line">    var agent = [“Android”, “iPhone”, “SymbianOS”, “Windows Phone”, “iPad”, “iPod”];    </div><div class="line">    for(var i=0; i&lt;len,len = agent.length; i++)&#123;</div><div class="line">        if(ua.indexOf(agent[i])&gt;0)&#123;         </div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">deviceType();</div><div class="line">window.addEventListener(‘resize’, function()&#123;</div><div class="line">    deviceType();</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>JS判断微信浏览器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function isWeixin()&#123;</div><div class="line">    var ua = navigator.userAgent.toLowerCase();</div><div class="line">    if(ua.match(/MicroMessenger/i)==‘micromessenger’)&#123;</div><div class="line">        return true;</div><div class="line">    &#125;else&#123;</div><div class="line">        return false;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>开启硬件加速</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//目前，像Chrome/Filefox/Safari/IE9+以及最新版本Opera都支持硬件加速，当检测到某个DOM元素应用了某些CSS规则时就会自动开启，从而解决页面闪白，保证动画流畅。</div><div class="line">.css &#123;</div><div class="line">    -webkit-transform: translate3d(0,0,0);</div><div class="line">    -moz-transform: translate3d(0,0,0);</div><div class="line">    -ms-transform: translate3d(0,0,0);</div><div class="line">    transform: translate3d(0,0,0);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>渲染优化</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//1.禁止使用iframe（阻塞父文档onload事件）</div><div class="line">//2.禁止使用gif图片实现loading效果（降低CPU消耗，提升渲染性能）</div><div class="line">//使用CSS3代码代替JS动画；</div><div class="line">//开启GPU加速；</div><div class="line">//使用base64位编码图片(不小图而言，大图不建议使用)</div><div class="line">    // 对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费CPU。小图标优势在于：</div><div class="line">    //1.减少HTTP请求；</div><div class="line">    //2.避免文件跨域；</div><div class="line">    //3.修改及时生效；</div></pre></td></tr></table></figure>

            <!-- Tags -->
            


<div class="tags">
    <a href="/tags/前端/">前端</a>
</div>



            <!-- Comments -->
            <div>
                


<!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name: 'xiakun-blog' };
  (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';
      ds.async = true;
      ds.src = 'http://static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
      || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END -->

            </div>
        </div><!-- end content -->
    </section>
</section><!-- end main -->

<!-- After footer scripts -->

<!-- jQuery -->
<script src="/js/jquery.js"></script>

<!-- Custom Code -->
<script src="/js/main.js"></script>

<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->


</body>

</html>